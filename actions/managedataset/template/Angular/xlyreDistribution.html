<form class="row-item distribution_item" ng-hide="deleted" file-upload="fileUploaderOptions" name="dist_form" xim-text="[[errorMsg]]" ng-class="{error: errorMsg}">
    <div class="translated_items">
        <div class="default_title"
            ng-hide="editing">
			[[defaultTitle]]
        </div>
        <ul ng-show="editing">
            <li class="translate_item" ng-repeat="(key, value) in activeLanguages" ng-show="value">
                <input type="text" placeholder="Distribution title"  value=""
                    ng-model="distribution.languages[key]">
                <span class="language-label">[[value]]</span>
            </li>
        </ul>
        
    </div>
    
    <div class="distribution_actions">
        <span class="file">
            
            <span class="file_name">[[queue[queue.length-1].name || distribution.file]]</span>
            <span class="upload-button" ng-show="editing">
                <i></i>
                <input name="file" type="file" multi="false" class="xim-uploader"/>
            </span>
        </span>
        <span class="format_file">
            <span class="label_title">Format</span>
            [[queue[queue.length-1].type || distribution.format]]
        </span>
        <span class="size_file">
            <span class="label_title">Size</span>
            [[queue[queue.length-1].size || distribution.size | xBytes ]]
        </span>
        <span class="creation_date">
            <span class="label_title">Creation date</span>
            <span ng-hide="editing && queue.length">
                [[distribution.issued | date:'dd/MM/yyyy']]
            </span>
        </span>
        <span class="modified_date">
            <span class="label_title">Modification date</span>
            <span ng-hide="editing && queue.length">
                [[distribution.modified | date:'dd/MM/yyyy']]
            </span>
        </span>
    </div>
    <div ng-show="editing" class="save-cancel-buttonset">
        <button type="button" class="cancel-button"
        	ng-click="cancelAction()">
        	<span>Cancel</span>
        </button>
        <button class="save-button" ng-class="{hidded: (!distribution.id && !queue.length) || (distribution.id && (dist_form.$pristine && !queue.length))}"
            ng-click="saveDistribution(distribution, queue[queue.length-1])"
            xim-button
            xim-label="uploadButtonLabel"
            xim-progress = "uploadProgress"
            xim-state = "queue[queue.length-1].$state()">
            Save Distribution
        </button>
    </div>
    <div class="crud-actions">
    	<button type="button" class="edit-button"
        	ng-click="editDistribution()"
        	ng-hide="editing">
        	<i></i>
        </button>
        <button type="button" class="delete-button"
        	ng-click="deleteDistribution(distribution)"
        	ng-show="distribution.id && !editing">
        	<i></i>
        </button>
    </div>
</form>